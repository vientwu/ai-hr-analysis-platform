## 现状说明
- 当前地址 `http://127.0.0.1:4321/` 是本地开发服务器（仅在你的电脑访问）。
- 如需线上访问与“云端唯一模式”保存/查看报告，需要部署到云端并确保 Supabase 配置与表策略有效。

## 目标
- 将前端与 Serverless API 部署到 Vercel，获得可公开访问的 https 地址
- 切换到云端唯一模式：保存→云端；列表/查看→云端，登录后可展示完整报告

## 准备
- Supabase 项目参数：`SUPABASE_URL`、`SUPABASE_ANON_KEY`
- 数据库表与 RLS（如未创建）：
  1) 表 `public.reports(id,user_id,title,report_type,content,markdown_output,is_starred,created_at)`
  2) RLS 策略：select/insert/update/delete 均限定 `auth.uid() = user_id`
- 环境变量：在 Vercel 项目设置中配置 `SUPABASE_URL`、`SUPABASE_ANON_KEY`、以及你使用的其他变量（如 COZE）

## 部署步骤（不改代码逻辑）
1) 安装并登录 Vercel CLI：`npm i -g vercel`，`vercel login`
2) 在项目根执行：`vercel`（选择新项目或现有项目），再执行 `vercel --prod`
3) 在 Vercel 项目设置填写环境变量；重新触发一次 `Deploy` 保证前端和 API 都拿到正确配置
4) 记录生成的线上地址（例如 `https://your-app.vercel.app/`）

## 切换云端唯一
- 登录态要求：未登录 Supabase 时提示并引导登录；登录后保存/列表/查看全部走云端
- 会话就绪：页面在登录完成后自动重试加载报告，确保弹窗显示完整内容

## 验证
- 登录 Supabase → 生成报告 → 点击“保存到我的报告”
- 打开“我的报告”列表，显示云端记录
- 点击“查看报告”，弹窗展示云端内容（含完整 Markdown）；下载下拉的三项功能可用

## 交付
- 提供可点击的线上 URL
- 如需要，我可帮你在 Supabase 中创建/校验表与策略，并在 Vercel 项目中配置环境变量