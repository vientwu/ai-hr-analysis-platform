<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿…æ¶¨Â·AIæ‹›è˜åˆ†æ - è®©æ‹›è˜æ›´æ™ºèƒ½</title>
    <script>
      (function(){
        if (window.__ERR_HOOK_INSTALLED__) return; window.__ERR_HOOK_INSTALLED__ = true;
        function report(msg, src, line, col) {
          try { console.error('[GlobalError]', msg, src || '', line || 0, col || 0); } catch {}
          try {
            var t = document.getElementById('toast');
            if (t) { t.textContent = (src ? (src.split('/').pop()+':') : '') + (line||0) + ' ' + msg; t.style.display='block'; t.className='toast error show'; setTimeout(function(){ t.classList.remove('show'); t.style.display='none'; }, 5000); }
          } catch {}
        }
        window.addEventListener('error', function(e){
          var msg = (e && e.message) || 'Script error'; var src = (e && e.filename) || ''; var line = (e && e.lineno) || 0; var col = (e && e.colno) || 0;
          report(msg, src, line, col);
        });
        window.onerror = function(message, source, lineno, colno) { report(message, source, lineno, colno); return false; };
      })();
    </script>
    
    <link rel="stylesheet" href="styles/main.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; color: #1f2937; }
        .navbar { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); padding: 1rem 2rem; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); position: sticky; top: 0; z-index: 1000; }
        .navbar-container { max-width: 1400px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.5rem; font-weight: bold; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .nav-links { display: flex; gap: 2rem; align-items: center; }
        .nav-links a { text-decoration: none; color: #4b5563; font-weight: 500; transition: color 0.3s; position: relative; }
        .nav-links a:hover { color: #667eea; }
        .nav-links a.active::after { content: ''; position: absolute; bottom: -4px; left: 0; right: 0; height: 2px; background: #667eea; }
        .nav-links a.disabled { color: #9ca3af; cursor: not-allowed; pointer-events: none; }
        .nav-badge { background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%); color: white; font-size: 0.7rem; padding: 2px 6px; border-radius: 10px; margin-left: 4px; font-weight: 600; }
        .nav-right { display: flex; gap: 1rem; align-items: center; }
        .btn-settings { background: none; border: none; font-size: 1.2rem; cursor: pointer; color: #6b7280; transition: color 0.3s; }
        .btn-settings:hover { color: #667eea; }
        .user-email { color: #6b7280; font-size: 0.9rem; }
        .hero { max-width: 1400px; margin: 4rem auto; padding: 4rem 2rem; text-align: center; color: white; }
        .hero h1 { font-size: 3rem; margin-bottom: 1rem; font-weight: 700; line-height: 1.2; }
        .hero-subtitle { font-size: 1.25rem; margin-bottom: 0.5rem; opacity: 0.95; }
        .hero-description { font-size: 1.1rem; margin-bottom: 2.5rem; opacity: 0.9; }
        .hero-buttons { display: flex; gap: 1rem; justify-content: center; margin-bottom: 3rem; }
        .hero .btn-primary { background: white; color: #667eea; padding: 1rem 2.5rem; border-radius: 50px; text-decoration: none; font-weight: 600; font-size: 1.1rem; transition: all 0.3s; border: 2px solid white; display: inline-flex; align-items: center; gap: 0.5rem; }
        .hero .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); }
        .hero .btn-secondary { background: transparent; color: white; padding: 1rem 2.5rem; border-radius: 50px; text-decoration: none; font-weight: 600; font-size: 1.1rem; transition: all 0.3s; border: 2px solid white; }
        .hero .btn-secondary:hover { background: rgba(255, 255, 255, 0.1); }
        .hero-stats { display: flex; justify-content: center; gap: 3rem; font-size: 0.95rem; opacity: 0.9; }
        .stat-item { display: flex; align-items: center; gap: 0.5rem; }
        .features { max-width: 1400px; margin: 0 auto 4rem; padding: 0 2rem; }
        .section-title { text-align: center; color: white; font-size: 2rem; margin-bottom: 3rem; font-weight: 600; }
        .cards-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1.5rem; margin-bottom: 3rem; }
        .feature-card { background: white; border-radius: 16px; padding: 2rem; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); transition: all 0.3s; position: relative; overflow: hidden; }
        .feature-card:hover { transform: translateY(-8px); box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15); }
        .card-icon { font-size: 3rem; margin-bottom: 1rem; display: block; }
        .card-badge { position: absolute; top: 1rem; right: 1rem; background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%); color: white; font-size: 0.75rem; padding: 4px 10px; border-radius: 12px; font-weight: 600; }
        .feature-card h3 { font-size: 1.5rem; margin-bottom: 1rem; color: #1f2937; }
        .feature-card p { color: #6b7280; line-height: 1.6; margin-bottom: 1.5rem; }
        .feature-list { list-style: none; margin-bottom: 1.5rem; }
        .feature-list li { color: #6b7280; padding: 0.3rem 0; padding-left: 1.5rem; position: relative; font-size: 0.95rem; }
        .feature-list li::before { content: 'âœ“'; position: absolute; left: 0; color: #10b981; font-weight: bold; }
        .btn-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 0.8rem 1.5rem; border-radius: 8px; text-decoration: none; font-weight: 600; display: inline-block; transition: all 0.3s; border: none; cursor: pointer; width: 100%; text-align: center; }
        .btn-card:hover { opacity: 0.9; transform: scale(1.02); }
        .workflow { max-width: 1400px; margin: 4rem auto; padding: 3rem 2rem; background: rgba(255, 255, 255, 0.95); border-radius: 20px; }
        .workflow-title { text-align: center; font-size: 2rem; margin-bottom: 3rem; color: #1f2937; }
        .workflow-steps { display: grid; grid-template-columns: repeat(5, 1fr); gap: 2rem; position: relative; }
        .workflow-step { text-align: center; position: relative; }
        .step-number { width: 60px; height: 60px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold; margin: 0 auto 1rem; }
        .step-title { font-weight: 600; margin-bottom: 0.5rem; color: #1f2937; }
        .step-desc { color: #6b7280; font-size: 0.9rem; }
        .scenarios { max-width: 1400px; margin: 4rem auto; padding: 0 2rem; }
        .scenario-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 1.5rem; }
        .scenario-card { background: rgba(255, 255, 255, 0.95); border-radius: 12px; padding: 1.5rem; border-left: 4px solid #667eea; }
        .scenario-card h4 { color: #1f2937; margin-bottom: 0.5rem; font-size: 1.1rem; }
        .scenario-card p { color: #6b7280; font-size: 0.95rem; }
        @media (max-width: 1200px) { .cards-grid { grid-template-columns: repeat(2, 1fr); } .workflow-steps { grid-template-columns: repeat(3, 1fr); } }
        @media (max-width: 768px) { .navbar-container { flex-direction: column; gap: 1rem; } .nav-links { flex-direction: column; gap: 1rem; } .hero h1 { font-size: 2rem; } .hero-buttons { flex-direction: column; } .hero-stats { flex-direction: column; gap: 1rem; } .cards-grid { grid-template-columns: 1fr; } .workflow-steps { grid-template-columns: 1fr; } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .feature-card { animation: fadeInUp 0.6s ease-out; }
        .feature-card:nth-child(2) { animation-delay: 0.1s; }
        .feature-card:nth-child(3) { animation-delay: 0.2s; }
        .feature-card:nth-child(4) { animation-delay: 0.3s; }
    </style>
    
    <!-- å†…ç½®å›¾æ ‡ï¼Œé¿å… favicon.ico 404 -->
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Ccircle cx='32' cy='32' r='32' fill='%232563eb'/%3E%3Ctext x='32' y='42' font-size='36' text-anchor='middle' fill='white'%3EA%3C/text%3E%3C/svg%3E">
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="navbar-container">
            <div class="logo">å¿…æ¶¨Â·AIæ‹›è˜åˆ†æ</div>
            <div class="nav-links">
                <a href="index.html" class="active">é¦–é¡µ</a>
                <a href="resume-analysis.html">ç®€å†åˆ†æ</a>
                <a href="#" class="disabled">ç®€å†ä¼˜åŒ–<span class="nav-badge">NEW</span></a>
                <a href="my-reports.html">é¢è¯•ç®¡ç†</a>
            </div>
            <div class="nav-right">
                <button class="btn-settings" onclick="openSettings()">âš™ï¸</button>
                <div id="account-dropdown" class="dropdown" style="display:none;">
                  <button id="account-button" class="btn-secondary">
                    <i class="fas fa-user"></i>
                    <span id="account-email">å·²ç™»å½•</span>
                    <i class="fas fa-caret-down"></i>
                  </button>
                  <div class="dropdown-menu">
                    <button class="dropdown-item" onclick="handleLogout()">é€€å‡ºç™»å½•</button>
                  </div>
                </div>
                <button id="login-btn" class="btn-secondary" onclick="openLoginModal()">ç™»å½•</button>
            </div>
        </div>
    </nav>
    <section class="hero">
        <h1>AIèµ‹èƒ½æ‹›è˜å…¨æµç¨‹</h1>
        <p class="hero-subtitle">è®©äººæ‰é€‰æ‹”æ›´é«˜æ•ˆã€æ›´ç²¾å‡†</p>
        <p class="hero-description">ä»ç®€å†ç­›é€‰åˆ°é¢è¯•è¯„ä¼°ï¼Œæ™ºèƒ½åˆ†æåŠ©åŠ›äººæ‰å†³ç­–</p>
        <div class="hero-buttons">
            <a href="resume-analysis.html" class="btn-primary">ğŸš€ å¼€å§‹ä½¿ç”¨</a>
            <a href="#workflow" class="btn-secondary">ğŸ“º äº†è§£æ›´å¤š</a>
        </div>
        <div class="hero-stats">
            <div class="stat-item"><span>ğŸ“Š</span><span>å·²æœåŠ¡ 15,234 ä½HR</span></div>
            <div class="stat-item"><span>âš¡</span><span>èŠ‚çœ 89% ç­›é€‰æ—¶é—´</span></div>
            <div class="stat-item"><span>ğŸ¯</span><span>åŒ¹é…å‡†ç¡®ç‡ 95%+</span></div>
        </div>
    </section>

    <section class="features" id="features">
        <h2 class="section-title">æ ¸å¿ƒåŠŸèƒ½</h2>
        <div class="cards-grid">
            <div class="feature-card">
                <span class="card-icon">ğŸ“„</span>
                <h3>æ™ºèƒ½ç®€å†åˆ†æ</h3>
                <p>ä¸Šä¼ ç®€å†ä¸å²—ä½JDï¼ŒAIè‡ªåŠ¨ç”ŸæˆåŒ¹é…åº¦åˆ†ææŠ¥å‘Š</p>
                <ul class="feature-list">
                    <li>æ”¯æŒå¤šæ ¼å¼æ–‡ä»¶è§£æ</li>
                    <li>å²—ä½åŒ¹é…åº¦è¯„åˆ†</li>
                    <li>ä¼˜åŠ£åŠ¿åˆ†æ</li>
                    <li>ä¸€é”®ç”ŸæˆæŠ¥å‘Š</li>
                </ul>
                <a href="resume-analysis.html" class="btn-card">ç«‹å³åˆ†æ</a>
            </div>
            <div class="feature-card">
                <span class="card-badge">NEW</span>
                <span class="card-icon">âœ¨</span>
                <h3>ç®€å†ä¼˜åŒ–å»ºè®®</h3>
                <p>AIè¯Šæ–­ç®€å†é—®é¢˜ï¼Œæä¾›ä¸ªæ€§åŒ–ä¿®æ”¹å»ºè®®</p>
                <ul class="feature-list">
                    <li>æ™ºèƒ½è¯†åˆ«ç®€å†é—®é¢˜</li>
                    <li>é’ˆå¯¹æ€§æ”¹å†™å»ºè®®</li>
                    <li>å…³é”®è¯ä¼˜åŒ–</li>
                    <li>æå‡ç«äº‰åŠ›</li>
                </ul>
                <a href="#" class="btn-card" onclick="showResumeAnalysis(); return false;">ä¼˜åŒ–ç®€å†</a>
            </div>
            <div class="feature-card">
                <span class="card-icon">ğŸ¤</span>
                <h3>AIé¢è¯•åŠ©æ‰‹</h3>
                <p>å®æ—¶å½•éŸ³è½¬å†™ï¼Œæ™ºèƒ½åˆ†æé¢è¯•è¡¨ç°</p>
                <ul class="feature-list">
                    <li>å®æ—¶è¯­éŸ³è½¬æ–‡å­—</li>
                    <li>é¢è¯•ç¬”è®°è®°å½•</li>
                    <li>å€™é€‰äººå¤‡æ³¨ç®¡ç†</li>
                    <li>ç»¼åˆè¯„ä¼°æŠ¥å‘Š</li>
                </ul>
                <a href="my-reports.html" class="btn-card">å¼€å§‹é¢è¯•</a>
            </div>
            <div class="feature-card">
                <span class="card-icon">ğŸ“Š</span>
                <h3>æŠ¥å‘Šç®¡ç†ä¸­å¿ƒ</h3>
                <p>æŸ¥çœ‹æ‰€æœ‰å†å²è®°å½•ï¼Œæ”¯æŒå¤šæ ¼å¼å¯¼å‡º</p>
                <ul class="feature-list">
                    <li>äº‘ç«¯å®‰å…¨å­˜å‚¨</li>
                    <li>å¤šç»´åº¦ç­›é€‰</li>
                    <li>å¯¼å‡ºMarkdown/Word/PDF</li>
                    <li>æ•°æ®æ°¸ä¹…ä¿å­˜</li>
                </ul>
                <a href="my-reports.html" class="btn-card">æŸ¥çœ‹æŠ¥å‘Š</a>
            </div>
        </div>
    </section>

    <section class="workflow" id="workflow">
        <h2 class="workflow-title">å®Œæ•´æ‹›è˜æµç¨‹ï¼ŒAIå…¨ç¨‹èµ‹èƒ½</h2>
        <div class="workflow-steps">
            <div class="workflow-step"><div class="step-number">1</div><div class="step-title">ä¸Šä¼ ææ–™</div><div class="step-desc">ä¸Šä¼ ç®€å†ä¸å²—ä½JD</div></div>
            <div class="workflow-step"><div class="step-number">2</div><div class="step-title">AIåˆ†æ</div><div class="step-desc">æ™ºèƒ½åŒ¹é…ä¸è¯„åˆ†</div></div>
            <div class="workflow-step"><div class="step-number">3</div><div class="step-title">æŸ¥çœ‹æŠ¥å‘Š</div><div class="step-desc">è·å–è¯¦ç»†åˆ†æç»“æœ</div></div>
            <div class="workflow-step"><div class="step-number">4</div><div class="step-title">å®‰æ’é¢è¯•</div><div class="step-desc">å®æ—¶å½•éŸ³ä¸è®°å½•</div></div>
            <div class="workflow-step"><div class="step-number">5</div><div class="step-title">ç»¼åˆè¯„ä¼°</div><div class="step-desc">ç”Ÿæˆæœ€ç»ˆå†³ç­–æŠ¥å‘Š</div></div>
        </div>
    </section>

    <section class="scenarios">
        <h2 class="section-title">é€‚åˆä½ çš„ä½¿ç”¨åœºæ™¯</h2>
        <div class="scenario-cards">
            <div class="scenario-card"><h4>ğŸ¯ HRæ‰¹é‡ç­›é€‰</h4><p>å¿«é€Ÿç­›é€‰å¤§é‡ç®€å†ï¼Œè‡ªåŠ¨åŒ¹é…æ‰“åˆ†ï¼ŒèŠ‚çœ80%æ—¶é—´</p></div>
            <div class="scenario-card"><h4>ğŸ’¼ å€™é€‰äººä¼˜åŒ–</h4><p>å¸®åŠ©å€™é€‰äººä¼˜åŒ–ç®€å†ï¼Œæå‡å²—ä½åŒ¹é…åº¦</p></div>
            <div class="scenario-card"><h4>ğŸ“ é¢è¯•å®˜å‡†å¤‡</h4><p>ç”Ÿæˆé¢è¯•é—®é¢˜ï¼Œå®æ—¶è®°å½•ï¼Œæ™ºèƒ½è¯„ä¼°è¡¨ç°</p></div>
        </div>
    </section>

    <script>
        document.querySelectorAll('a[href^="#"]').forEach(function(anchor){ anchor.addEventListener('click', function(e){ e.preventDefault(); var target = document.querySelector(this.getAttribute('href')); if (target) { target.scrollIntoView({ behavior: 'smooth', block: 'start' }); } }); });
        (function(){ var observerOptions = { threshold: 0.1, rootMargin: '0px 0px -100px 0px' }; var observer = new IntersectionObserver(function(entries){ entries.forEach(function(entry){ if (entry.isIntersecting) { entry.target.style.animation = 'fadeInUp 0.6s ease-out'; } }); }, observerOptions); document.querySelectorAll('.feature-card, .workflow-step, .scenario-card').forEach(function(el){ observer.observe(el); }); })();
    </script>

    <!-- ä¸»å®¹å™¨ -->
    <div class="main-container">
        <!-- åŠŸèƒ½é€‰æ‹©å¡ç‰‡ -->
        <div class="feature-cards-old" style="display:none">
            <div class="card" id="resume-card">
                <div class="card-icon">
                    <i class="fas fa-file-alt"></i>
                </div>
                <h3 data-zh="ç®€å†åˆ†æ" data-en="Resume Analysis">ç®€å†åˆ†æ</h3>
                <p data-zh="ä¸Šä¼ ç®€å†å’Œå²—ä½JDï¼Œè·å¾—AIæ™ºèƒ½åŒ¹é…åˆ†æå’Œé¢è¯•å»ºè®®" data-en="Upload resume and job description for AI-powered matching analysis and interview suggestions">
                    ä¸Šä¼ ç®€å†å’Œå²—ä½JDï¼Œè·å¾—AIæ™ºèƒ½åŒ¹é…åˆ†æå’Œé¢è¯•å»ºè®®
                </p>
                <button class="btn-primary" onclick="showResumeAnalysis()">
                    <span data-zh="å¼€å§‹åˆ†æ" data-en="Start Analysis">å¼€å§‹åˆ†æ</span>
                    <i class="fas fa-arrow-right"></i>
                </button>
            </div>

            
        </div>

        <!-- ç®€å†åˆ†ææ¨¡å—ï¼ˆåˆå¹¶æ–°é¡µé¢å†…å®¹ï¼‰ -->
        <div class="analysis-module" id="resume-module" style="display: none;">
            <div class="module-header">
                <button class="back-btn" onclick="showHome()">
                    <i class="fas fa-arrow-left"></i>
                    <span data-zh="è¿”å›" data-en="Back">è¿”å›</span>
                </button>
                <h2 data-zh="ç®€å†åˆ†æ" data-en="Resume Analysis">ç®€å†åˆ†æ</h2>
            </div>
            <div class="upload-section">
                <div class="upload-group">
                    <label data-zh="ä¸Šä¼ ç®€å†æ–‡ä»¶ï¼ˆå¯å¤šé€‰ï¼‰" data-en="Upload resumes (multiple)">ä¸Šä¼ ç®€å†æ–‡ä»¶ï¼ˆå¯å¤šé€‰ï¼‰</label>
                    <div class="file-upload">
                        <div class="upload-area" onclick="document.getElementById('new-resume-files').click()">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p data-zh="ç‚¹å‡»æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„" data-en="Click or drag files here">ç‚¹å‡»æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„</p>
                            <small data-zh="æ”¯æŒ PDFï¼ˆå«å›¾ç‰‡å‹ï¼‰ã€DOCXã€TXTã€RTFã€PNG/JPGï¼Œæœ€å¤§ 50MB/æ–‡ä»¶" data-en="Supports PDF (incl. scanned), DOCX, TXT, RTF, PNG/JPG, up to 50MB/file">æ”¯æŒ PDFï¼ˆå«å›¾ç‰‡å‹ï¼‰ã€DOCXã€TXTã€RTFã€PNG/JPGï¼Œæœ€å¤§ 50MB/æ–‡ä»¶</small>
                        </div>
                        <input type="file" id="new-resume-files" accept=".pdf,.docx,.txt,.rtf,.png,.jpg,.jpeg" multiple style="display:none">
                        <div class="file-info" id="new-resume-files-info" style="display:none"></div>
                    </div>
                </div>
                <div class="upload-group">
                    <label data-zh="å²—ä½èŒè´£æè¿° (JD)" data-en="Job Description (JD)">å²—ä½èŒè´£æè¿° (JD)</label>
                    <textarea id="new-job-description" placeholder="è¯·è¾“å…¥è¯¦ç»†çš„å²—ä½èŒè´£ã€æŠ€èƒ½è¦æ±‚ã€å·¥ä½œå†…å®¹ç­‰ä¿¡æ¯..."></textarea>
                    <div class="char-count"><span id="new-jd-count">0</span> / 5000</div>
                </div>
                <div class="upload-group">
                    <label data-zh="æç¤ºè¯æ–‡ä»¶åŠ è½½çŠ¶æ€" data-en="Prompt load status">æç¤ºè¯æ–‡ä»¶åŠ è½½çŠ¶æ€</label>
                    <div id="prompt-status" class="notice">å¾…åŠ è½½</div>
                </div>
                <button class="btn-analyze" id="start-local-analysis">
                    <i class="fas fa-play"></i>
                    <span data-zh="å¼€å§‹åˆ†æ" data-en="Start Analysis">å¼€å§‹åˆ†æ</span>
                </button>
            </div>
            <div class="result-section" id="new-result" style="display:none;">
                <h3 data-zh="åˆ†æç»“æœ" data-en="Analysis Result">åˆ†æç»“æœ</h3>
                <div class="result-content markdown-content" id="new-result-content"></div>
                <div class="result-actions">
                    <button class="btn-secondary" id="save-new-report">
                        <i class="fas fa-save"></i>
                        <span data-zh="ä¿å­˜åˆ°æˆ‘çš„æŠ¥å‘Š" data-en="Save to My Reports">ä¿å­˜åˆ°æˆ‘çš„æŠ¥å‘Š</span>
                    </button>
                    <button class="btn-secondary" id="download-new-docx">
                        <i class="fas fa-file-word"></i>
                        <span data-zh="ä¸‹è½½ Word" data-en="Download Word">ä¸‹è½½ Word</span>
                    </button>
                    <button class="btn-secondary" id="download-new-md">
                        <i class="fas fa-download"></i>
                        <span data-zh="ä¸‹è½½ Markdown" data-en="Download Markdown">ä¸‹è½½ Markdown</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- é¢è¯•åˆ†ææ¨¡å— -->
        <div class="analysis-module" id="interview-module" style="display: none;">
            <div class="module-header">
                <button class="back-btn" onclick="showHome()">
                    <i class="fas fa-arrow-left"></i>
                    <span data-zh="è¿”å›" data-en="Back">è¿”å›</span>
                </button>
                <h2 data-zh="é¢è¯•åˆ†æ" data-en="Interview Analysis">é¢è¯•åˆ†æ</h2>
            </div>

            <div class="upload-section">
                <div class="upload-group">
                    <label data-zh="é¢è¯•è€…å§“å" data-en="Interviewee Name">é¢è¯•è€…å§“å</label>
                    <input 
                        type="text" 
                        id="interviewee-name" 
                        placeholder="è¯·è¾“å…¥é¢è¯•è€…å§“å"
                        data-zh-placeholder="è¯·è¾“å…¥é¢è¯•è€…å§“å"
                        data-en-placeholder="Please enter interviewee name"
                        maxlength="50"
                    >
                </div>

                <div class="upload-group">
                    <label data-zh="é¢è¯•è½¬å†™æ–‡æ¡£ï¼ˆPDF/DOC/DOCX/TXT/RTF/PNG/JPGï¼‰" data-en="Interview Transcript Document (PDF/DOC/DOCX/TXT/RTF/PNG/JPG)">é¢è¯•è½¬å†™æ–‡æ¡£ï¼ˆPDF/DOC/DOCX/TXT/RTF/PNG/JPGï¼‰</label>
                    <div class="file-upload" id="interview-upload">
                        <div class="upload-area" onclick="document.getElementById('interview-file').click()">
                            <i class="fas fa-file-word"></i>
                            <p data-zh="ç‚¹å‡»æˆ–æ‹–æ‹½ PDF/DOC/DOCX/TXT/RTF/PNG/JPG æ–‡ä»¶åˆ°æ­¤å¤„" data-en="Click or drag PDF/DOC/DOCX/TXT/RTF/PNG/JPG file here">ç‚¹å‡»æˆ–æ‹–æ‹½ PDF/DOC/DOCX/TXT/RTF/PNG/JPG æ–‡ä»¶åˆ°æ­¤å¤„</p>
                            <small data-zh="æ”¯æŒ PDFã€DOCã€DOCXã€TXTã€RTFã€PNGã€JPG æ ¼å¼ï¼Œæœ€å¤§ 500MB" data-en="Supports PDF, DOC, DOCX, TXT, RTF, PNG, JPG formats, max 500MB">
                                æ”¯æŒ PDFã€DOCã€DOCXã€TXTã€RTFã€PNGã€JPG æ ¼å¼ï¼Œæœ€å¤§ 500MB
                            </small>
                        </div>
                        <input type="file" id="interview-file" accept=".pdf,.doc,.docx,.txt,.rtf,.png,.jpg,.jpeg" style="display: none;">
                        <div class="file-info" id="interview-file-info" style="display: none;"></div>
                    </div>
                </div>

                <div class="upload-group">
                    <label data-zh="å½•éŸ³URL (å¯é€‰)" data-en="Recording URL (Optional)">å½•éŸ³URL (å¯é€‰)</label>
                    <input 
                        type="url" 
                        id="recording-url" 
                        placeholder="https://example.com/recording.mp3"
                        data-zh-placeholder="https://example.com/recording.mp3 (å¯é€‰)"
                        data-en-placeholder="https://example.com/recording.mp3 (optional)"
                    >
                    <small data-zh="å¦‚æœ‰åŸå§‹å½•éŸ³é“¾æ¥ï¼Œå¯æä¾›ä»¥è·å¾—æ›´å‡†ç¡®çš„åˆ†æ" data-en="If you have original recording link, provide it for more accurate analysis">
                        å¦‚æœ‰åŸå§‹å½•éŸ³é“¾æ¥ï¼Œå¯æä¾›ä»¥è·å¾—æ›´å‡†ç¡®çš„åˆ†æ
                    </small>
                </div>

                <button class="btn-analyze" id="analyze-interview-btn" onclick="analyzeInterview()" disabled>
                    <i class="fas fa-cog fa-spin" style="display: none;"></i>
                    <span data-zh="å¼€å§‹åˆ†æé¢è¯•" data-en="Start Interview Analysis">å¼€å§‹åˆ†æé¢è¯•</span>
                </button>
            </div>

            <div class="result-section" id="interview-result" style="display: none;">
                <h3 data-zh="åˆ†æç»“æœ" data-en="Analysis Result">åˆ†æç»“æœ</h3>
                <div class="result-content markdown-content" id="interview-result-content"></div>
                <div class="result-actions">
                    <button class="btn-secondary" onclick="saveReportToSupabase('interview')">
                        <i class="fas fa-save"></i>
                        <span data-zh="ä¿å­˜åˆ°æˆ‘çš„æŠ¥å‘Š" data-en="Save to My Reports">ä¿å­˜åˆ°æˆ‘çš„æŠ¥å‘Š</span>
                    </button>
                    <button class="btn-secondary" onclick="downloadResultDocx('interview')">
                        <i class="fas fa-file-word"></i>
                        <span data-zh="ä¸‹è½½ Word" data-en="Download Word">ä¸‹è½½ Word</span>
                    </button>
                    <button class="btn-secondary" onclick="downloadResult('interview')">
                        <i class="fas fa-download"></i>
                        <span data-zh="ä¸‹è½½ Markdown" data-en="Download Markdown">ä¸‹è½½ Markdown</span>
                    </button>
                    <button class="btn-primary" onclick="resetInterviewAnalysis()">
                        <span data-zh="é‡æ–°åˆ†æ" data-en="Analyze Again">é‡æ–°åˆ†æ</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- æˆ‘çš„æŠ¥å‘Šæ¨¡å— -->
        <div class="analysis-module" id="my-reports-module" style="display: none;">
            <div class="module-header">
                <button class="back-btn" onclick="showHome()">
                    <i class="fas fa-arrow-left"></i>
                    <span>è¿”å›</span>
                </button>
                <h2>æˆ‘çš„æŠ¥å‘Š</h2>
            </div>
            <div id="my-reports-content">
                <p id="reports-notice" class="notice">è¯·å…ˆç™»å½•åæŸ¥çœ‹ä¸ä¿å­˜æŠ¥å‘Šã€‚</p>
                <div class="result-actions" style="margin-bottom:1rem">
                    <button class="btn-secondary" onclick="loadMyReports()">
                        <i class="fas fa-sync"></i>
                        åˆ·æ–°åˆ—è¡¨
                    </button>
                </div>
                <!-- ç­›é€‰æ  -->
                <div class="reports-filter">
                    <div class="filter-left">
                        <label class="filter-checkbox">
                            <input type="checkbox" id="filter-starred" />
                            <span>ä»…æ˜Ÿæ ‡</span>
                        </label>
                    </div>
                    <div class="filter-right">
                        <label for="filter-type">ç±»å‹</label>
                        <select id="filter-type" class="filter-select">
                            <option value="all">å…¨éƒ¨</option>
                            <option value="resume">ç®€å†åˆ†æ</option>
                            <option value="interview">é¢è¯•åˆ†æ</option>
                        </select>
                        <button class="btn-secondary" id="filter-reset">
                            <i class="fas fa-undo"></i>
                            é‡ç½®
                        </button>
                    </div>
                </div>
                <div id="reports-list" class="result-content markdown-content"></div>
            </div>
        </div>
    </div>

    <!-- åŠ è½½æç¤º -->
    <div class="loading-overlay" id="loading-overlay" style="display: none;">
        <div class="loading-content">
            <div class="spinner"></div>
            <h3 data-zh="AIæ­£åœ¨åˆ†æä¸­..." data-en="AI is analyzing...">AIæ­£åœ¨åˆ†æä¸­...</h3>
            <p data-zh="è¯·ç¨å€™ï¼Œè¿™å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´" data-en="Please wait, this may take a few minutes">è¯·ç¨å€™ï¼Œè¿™å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´</p>
        </div>
    </div>

    <!-- é”™è¯¯æç¤º -->
    <div class="toast" id="toast"></div>
    <div class="toast" id="new-toast" style="display:none"></div>

    <!-- ç™»å½•å¼¹çª—ï¼ˆé‡æ–°è®¾è®¡ï¼‰ -->
    <div class="modal-overlay" id="login-modal" style="display:none;">
        <div class="modal-panel login-panel">
            <div class="modal-header">
                <h3>ç™»å½•ä½ çš„è´¦å·</h3>
                <button class="modal-close" onclick="closeLoginModal()" aria-label="å…³é—­">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <p class="modal-subtitle">ä½¿ç”¨é‚®ç®±ç™»å½•æˆ–æ³¨å†Œ</p>

            <div id="login-error" class="error-state" style="display:none;"></div>

            <div class="form-group">
                <label for="login-email">é‚®ç®±</label>
                <div class="input-with-icon">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="login-email" placeholder="you@example.com" autocomplete="username" />
                </div>
            </div>

            <div class="form-group" id="login-password-group">
                <label for="login-password">å¯†ç </label>
                <div class="input-with-icon">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="login-password" placeholder="ä¸å°‘äº6ä½" autocomplete="current-password" />
                    <button type="button" class="input-action" onclick="(function(btn){const input=document.getElementById('login-password');const s=input.getAttribute('type')==='password'?'text':'password';input.setAttribute('type',s);btn.innerText=s==='password'?'æ˜¾ç¤º':'éšè—';})(this)">æ˜¾ç¤º</button>
                </div>
            </div>
            <div class="form-group" style="display:flex;gap:1rem;align-items:center;">
                <label class="filter-checkbox" style="display:flex;align-items:center;gap:0.5rem;">
                  <input type="checkbox" id="remember-email" />
                  <span>è®°ä½è´¦å·</span>
                </label>
                <label class="filter-checkbox" style="display:flex;align-items:center;gap:0.5rem;">
                  <input type="checkbox" id="remember-password" />
                  <span>è®°ä½å¯†ç </span>
                </label>
            </div>

            <div class="modal-actions" id="login-actions">
                <button class="btn-primary" onclick="handleEmailLogin()">
                    <i class="fas fa-sign-in-alt"></i>
                    ç™»å½•
                </button>
                <button class="btn-secondary" onclick="openRegisterModal()">
                    <i class="fas fa-user-plus"></i>
                    æ³¨å†Œ
                </button>
            </div>

            <div class="modal-help">
                <a href="#" class="forgot-password-link" onclick="(function(){if(window.openForgotMode) window.openForgotMode();})(); return false;">å¿˜è®°å¯†ç ï¼Ÿ</a>
            </div>

            <div class="modal-actions" id="forgot-actions" style="display:none;">
                <button class="btn-primary" onclick="handleForgotPassword()">
                    <i class="fas fa-envelope"></i>
                    å‘é€é‡ç½®é‚®ä»¶
                </button>
                <button class="btn-secondary" onclick="(function(){if(window.switchLoginMode) window.switchLoginMode('login');})();">
                    <i class="fas fa-sign-in-alt"></i>
                    è¿”å›ç™»å½•
                </button>
            </div>

            <p class="modal-privacy privacy-tip">ç™»å½•å³è¡¨ç¤ºä½ åŒæ„æˆ‘ä»¬ä¿å­˜ä½ çš„æŠ¥å‘Šç”¨äºä¸ªäººæŸ¥çœ‹ä¸ä¸‹è½½ï¼›ç®¡ç†å‘˜å¯ç”¨äºç³»ç»Ÿç»´æŠ¤ä¸å®¡è®¡ã€‚</p>
        </div>
    </div>

    <!-- æ³¨å†Œå¼¹çª— -->
    <div class="modal-overlay" id="register-modal" style="display:none;">
        <div class="modal-panel login-panel">
            <div class="modal-header">
                <h3>æ³¨å†Œæ–°è´¦å·</h3>
                <button class="modal-close" onclick="closeRegisterModal()" aria-label="å…³é—­">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <p class="modal-subtitle">å¡«å†™é‚®ç®±ä¸å¯†ç å®Œæˆæ³¨å†Œ</p>

            <div id="register-error" class="error-state" style="display:none;"></div>

            <div class="form-group">
                <label for="register-email">é‚®ç®±</label>
                <div class="input-with-icon">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="register-email" placeholder="you@example.com" autocomplete="username" />
                </div>
            </div>

            <div class="form-group">
                <label for="register-password">å¯†ç </label>
                <div class="input-with-icon">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="register-password" placeholder="ä¸å°‘äº6ä½" autocomplete="new-password" />
                </div>
            </div>

            <div class="form-group">
                <label for="register-password-confirm">ç¡®è®¤å¯†ç </label>
                <div class="input-with-icon">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="register-password-confirm" placeholder="å†æ¬¡è¾“å…¥" autocomplete="new-password" />
                </div>
            </div>

            <div class="modal-actions">
                <button class="btn-primary" onclick="handleEmailSignupRegister()">
                    <i class="fas fa-user-plus"></i>
                    æ³¨å†Œ
                </button>
                <button class="btn-secondary" onclick="(function(){closeRegisterModal();openLoginModal();})()">
                    <i class="fas fa-sign-in-alt"></i>
                    è¿”å›ç™»å½•
                </button>
            </div>
        </div>
    </div>

    <!-- é‡ç½®å¯†ç å¼¹çª— -->
    <div class="modal-overlay" id="reset-modal" style="display:none;">
        <div class="modal-panel login-panel">
            <div class="modal-header">
                <h3>é‡ç½®å¯†ç </h3>
                <button class="modal-close" onclick="closeResetModal()" aria-label="å…³é—­">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <p class="modal-subtitle">è¯·è®¾ç½®ä¸€ä¸ªæ–°çš„å¯†ç </p>

            <div class="form-group">
                <label for="reset-password">æ–°å¯†ç </label>
                <div class="input-with-icon">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="reset-password" placeholder="ä¸å°‘äº6ä½" autocomplete="new-password" />
                </div>
            </div>

            <div class="form-group">
                <label for="reset-password-confirm">ç¡®è®¤æ–°å¯†ç </label>
                <div class="input-with-icon">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="reset-password-confirm" placeholder="å†æ¬¡è¾“å…¥" autocomplete="new-password" />
                </div>
            </div>

            <div class="modal-actions">
                <button class="btn-primary" onclick="handlePasswordUpdate()">
                    <i class="fas fa-key"></i>
                    æ›´æ–°å¯†ç 
                </button>
            </div>
        </div>
    </div>

    <!-- æŠ¥å‘Šé¢„è§ˆå¼¹çª— -->
    <div class="modal-overlay" id="report-modal" style="display:none;">
        <div class="modal-panel report-panel">
            <div class="modal-header">
                <h3>æŠ¥å‘Šé¢„è§ˆ</h3>
                <div class="modal-actions" style="display:flex;gap:0.5rem;align-items:center;">
                  <div id="report-download-dropdown" class="dropdown">
                    <button id="report-download-dropdown-btn" class="btn-secondary">
                      <i class="fas fa-download"></i>
                      ä¸‹è½½
                      <i class="fas fa-caret-down"></i>
                    </button>
                    <div id="report-download-dropdown-menu" class="dropdown-menu">
                      <button id="report-download-md" class="dropdown-item">ä¸‹è½½ Markdown</button>
                      <button id="report-download-docx" class="dropdown-item">ä¸‹è½½ Word</button>
                      <button id="report-download-pdf" class="dropdown-item">å¯¼å‡º PDF</button>
                    </div>
                  </div>
                  <button class="btn-secondary" id="report-print">æ‰“å°</button>
                  <button class="btn-secondary" id="report-copy-link">å¤åˆ¶é“¾æ¥</button>
                  <button class="modal-close" id="report-close" aria-label="å…³é—­">Ã—</button>
                </div>
            </div>
            <div class="modal-body">
                <iframe id="report-frame" class="report-frame" src="" frameborder="0" allow="clipboard-write"></iframe>
            </div>
        </div>
    </div>

    <!-- è®¾ç½®å¼¹çª—ï¼ˆç»Ÿä¸€æ¥æºï¼šæ–°ç®€å†åˆ†æé¡µæ ·å¼ï¼‰ -->
    <div class="modal-overlay" id="settings-modal" style="display:none;">
      <div class="modal-panel login-panel">
        <div class="modal-header">
          <h3>OpenRouter è®¾ç½®</h3>
          <button class="modal-close" id="settings-close">Ã—</button>
        </div>
        <div class="form-group">
          <label for="provider-select">æœåŠ¡å•†</label>
          <select id="provider-select" class="filter-select">
            <option value="openrouter">OpenRouter</option>
            <option value="openai">OpenAI</option>
            <option value="anthropic">Anthropic</option>
            <option value="deepseek">DeepSeek</option>
          </select>
        </div>
        <div class="form-group">
          <label for="openrouter-key">API Key</label>
          <div class="input-with-icon">
            <i class="fas fa-key"></i>
            <input type="password" id="openrouter-key" placeholder="sk-...">
          </div>
          <div class="modal-actions">
            <button class="btn-secondary" id="test-conn">æ£€æµ‹è¿æ¥</button>
            <span id="conn-status" style="margin-left:0.5rem;color:#6b7280;">æœªæ£€æµ‹</span>
          </div>
        </div>
        <div class="form-group">
          <label for="model-select">æ¨¡å‹</label>
          <select id="model-select" class="filter-select"></select>
        </div>
        <div class="form-group">
          <label for="custom-model">è‡ªå®šä¹‰æ¨¡å‹ï¼ˆå¯é€‰ï¼‰</label>
          <input type="text" id="custom-model" placeholder="å¦‚ anthropic/claude-3.7-sonnet">
        </div>
        <div class="form-group">
          <label for="prompt-resume">ç®€å†ä¿¡æ¯æå–æç¤ºè¯</label>
          <textarea id="prompt-resume" rows="6" placeholder="ç²˜è´´æˆ–ç¼–è¾‘æç¤ºè¯"></textarea>
        </div>
        <div class="form-group">
          <label for="prompt-jd">å²—ä½ç”»åƒç”Ÿæˆæç¤ºè¯</label>
          <textarea id="prompt-jd" rows="6" placeholder="ç²˜è´´æˆ–ç¼–è¾‘æç¤ºè¯"></textarea>
        </div>
        <div class="form-group">
          <label for="prompt-match">ç®€å†åŒ¹é…åº¦åˆ†ææç¤ºè¯</label>
          <textarea id="prompt-match" rows="8" placeholder="ç²˜è´´æˆ–ç¼–è¾‘æç¤ºè¯"></textarea>
        </div>
        <div class="form-group">
          <label for="prompt-interview">é¢è¯•ç»¼åˆåˆ†ææç¤ºè¯</label>
          <textarea id="prompt-interview" rows="8" placeholder="ç²˜è´´æˆ–ç¼–è¾‘æç¤ºè¯"></textarea>
        </div>
        <div class="modal-actions">
          <button class="btn-primary" id="settings-save">ä¿å­˜</button>
        </div>
        
      </div>
    </div>

    <!-- ç®€å†åˆ†æåŠ è½½æç¤º -->
    <div class="loading-overlay" id="new-loading" style="display: none;">
        <div class="loading-content">
            <div class="spinner"></div>
            <h3 id="new-loading-title">AIæ­£åœ¨åˆ†æä¸­...</h3>
            <p id="new-loading-tip">è¯·ç¨å€™ï¼Œè¿™å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´</p>
        </div>
    </div>

    <!-- Markdown æ¸²æŸ“ä¸å®‰å…¨è¿‡æ»¤åº“ -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.5/dist/purify.min.js"></script>
    <!-- HTML to DOCX è½¬æ¢åº“ï¼ˆæµè§ˆå™¨ç«¯ç”Ÿæˆ Word æ–‡æ¡£ï¼‰ -->
    <script src="https://cdn.jsdelivr.net/npm/html-docx-js/dist/html-docx.js"></script>
    <!-- PDF.js ä¸ Tesseractï¼ˆç”¨äºæµè§ˆå™¨OCRå›é€€ï¼‰ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@2/dist/tesseract.min.js"></script>
    <script>
      if (window.pdfjsLib && window.pdfjsLib.GlobalWorkerOptions) {
        window.pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
      }
    </script>
    

    <script src="js/i18n.js"></script>
    <script>
      (function(){
        var cfg = {
          url: 'https://bcsjxvhzoufzqzupygyl.supabase.co',
          anonKey: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjc2p4dmh6b3VmenF6dXB5Z3lsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE3MDY3NDIsImV4cCI6MjA3NzI4Mjc0Mn0.hqW92LKNOVDN9QohpyhxdUNt5r1A4FbLzX8Vg-bihZc'
        };
        window.__SUPABASE_CONFIG = cfg;
      })();
    </script>
    <script src="js/supabase.js"></script>
    <script src="js/api.js"></script>
    <script src="js/main.js"></script>
    <script src="js/settings.js"></script>
    
    <!-- å·²ç§»é™¤ API è°ƒè¯•æŒ‰é’®è„šæœ¬ -->

</body>
</html>
